{"posts":[{"title":"Hello World","text":"Welcome to Hexo! This is your very first post. Check documentation for more info. If you get any problems when using Hexo, you can find the answer in troubleshooting or you can ask me on GitHub. Quick StartCreate a new post1$ hexo new &quot;My New Post&quot; More info: Writing Run server1$ hexo server More info: Server Generate static files1$ hexo generate More info: Generating Deploy to remote sites1$ hexo deploy More info: Deployment","link":"/2025/06/09/hello-world/"},{"title":"Apache Commons IO的19年后门：一次误报分析","text":"TL;DRApache Commons IO库中的FileSystemUtils.java因使用Runtime.getRuntime().exec()调用系统命令被反病毒软件误报为恶意代码。该实现存在19年直到2024年才重构，是经典的误报案例。 问题发现在对Minecraft插件进行安全扫描时，发现org.apache.commons.io.FileSystemUtils存在以下”可疑”行为： Runtime.getRuntime().exec(params)调用 执行cmd.exe命令 初步怀疑存在后门，但进一步分析发现异常： 反病毒软件仅报告单一可疑点，不符合恶意软件特征 代码未混淆，如有恶意意图过于明显 Apache官方仓库搜索无相关敏感字符串 根因分析通过Git历史追溯，发现问题源于Apache Commons IO的历史实现： 2005-2024：系统命令实现12345678910111213141516171819// Windows平台Process openProcess(final String[] cmdArray) throws IOException { return Runtime.getRuntime().exec(cmdArray);}long freeSpaceWindows(final String pathStr, final Duration timeout) throws IOException { final List&lt;String&gt; lines = performCommand( new String[] { &quot;cmd.exe&quot;, &quot;/C&quot;, &quot;dir /a /-c \\&quot;&quot; + path + &quot;\\&quot;&quot; }, Integer.MAX_VALUE, timeout); // ...}// Unix平台 long freeSpaceUnix(final String path, final boolean kb, final boolean posix, final Duration timeout) throws IOException { final String[] cmdAttribs = flags.length() &gt; 1 ? new String[] { DF, flags, pathStr } : new String[] { DF, pathStr }; // ...} 2024后：NIO.2实现1234567static long getFreeSpace(final String pathStr) throws IOException { final Path path = Paths.get(Objects.requireNonNull(pathStr, &quot;pathStr&quot;)); if (Files.exists(path)) { return Files.getFileStore(path.toAbsolutePath()).getUsableSpace(); } throw new IllegalArgumentException(path.toString());} 技术对比 维度 旧实现 新实现 方法 系统命令调用 NIO.2 API 平台依赖 强依赖(Windows/Unix分支) 平台无关 安全性 命令注入风险 类型安全 性能 进程创建开销 直接系统调用 误报 高(敏感API) 无 误报原因 模式匹配局限性：静态分析工具基于签名检测Runtime.exec()等敏感API 缺乏语义理解：无法区分合法系统调用与恶意行为 历史包袱：19年的向后兼容需求导致不安全实现长期存在 经验总结对开发者 优先使用现代API（NIO.2 &gt; Runtime.exec()） 理解安全工具的检测机制和局限性 重视代码的安全性演进 对安全分析 静态分析结果需人工验证 结合代码历史和上下文分析 关注误报模式，建立白名单机制 对项目维护 及时更新依赖到安全版本 定期审查历史技术债务 平衡兼容性与安全性 结论这起误报揭示了几个重要问题： API演进的必要性：Java NIO.2引入的动机之一就是替代不安全的传统实现 安全工具的双刃剑效应：过度依赖自动化检测可能导致误判 开源项目的历史包袱：向后兼容需求与安全性改进之间的平衡 Apache Commons IO团队最终选择重构而非简单修复，体现了对安全性和代码质量的重视。这个案例提醒我们：技术选型需要考虑长远的安全影响，而不仅仅是功能实现。 参考资料： Apache Commons IO GitHub仓库 重构前FileSystemUtils.java 重构后FileSystemUtils.java","link":"/2025/06/09/apache-commons-io/"}],"tags":[{"name":"apache","slug":"apache","link":"/tags/apache/"},{"name":"java","slug":"java","link":"/tags/java/"},{"name":"commons-io","slug":"commons-io","link":"/tags/commons-io/"},{"name":"secure","slug":"secure","link":"/tags/secure/"},{"name":"backdoor","slug":"backdoor","link":"/tags/backdoor/"},{"name":"bug","slug":"bug","link":"/tags/bug/"},{"name":"exploit","slug":"exploit","link":"/tags/exploit/"}],"categories":[],"pages":[{"title":"","text":"申请友链须知 原则上只和技术类博客交换，但不包括含有和色情、暴力、政治敏感的网站。 不和剽窃、侵权、无诚信的网站交换，优先和具有原创作品的网站交换。 申请请提供：站点名称、站点链接、站点描述、logo或头像（不要设置防盗链）。 排名不分先后，刷新后重排，更新信息后请留言告知。 会定期清理很久很久不更新的、不符合要求的友链，不再另行通知。 本站不存储友链图片，如果友链图片换了无法更新。图片裂了的会替换成默认图，需要更换的请留言告知。 本站友链信息如下，申请友链前请先添加本站信息： 网站图标：https://removeif.github.io/images/avatar.jpg 网站名称：辣椒の酱 网站地址：https://removeif.github.io 网站简介：后端开发，技术分享 加载中，稍等几秒...","link":"/friend/index.html"},{"title":"","text":"个人简介 分享很喜欢的老罗的一段话： “每一个生命来到世间都注定改变世界，别无选择。要么变得好一点，要么变得坏一点。你如果走进社会为了生存为了什么不要脸的理由，变成了一个恶心的成年人社会中的一员，那你就把这个世界变得恶心了一点点。如果你一生刚正不阿，如果你一生耿直，没有做任何恶心的事情，没做对别人有害的事情，一辈子拼了老命勉强把自己身边的几个人照顾好了，没有成名没有发财，没有成就伟大的事业，然后耿着脖子一生正直，到了七八十岁耿着脖子去世了。你这一生是不是没有改变世界？你还是改变世界了，你把这个世界变得美好了一点点。因为世界上又多了一个好人。“ 善恶终有报,天道好轮回。不信抬头看,苍天饶过谁。无论何时何地，我们都要保持一颗积极乐观、善良感恩的心。但行好事莫问前程，永远年轻，永远热内盈眶，永远保持正能量。💪💪💪💪💪💪冲鸭！！！！ -&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;个人信息：计算机科学与技术专业从事JAVA后端开发码畜一枚坚信代码改变世界 博客信息 网站采用的Icarus主题 追求尽可能的简洁，清晰，易用。 在Icarus主题之上进行了部分修改。 更新日志：–2020.09.20：icarus4.0适配–2020.01.18：icarus3.0适配–2019.11.17：增加深色主题开关–2019.10.30：去图，精简卡片–2019.10.22：改版部分显示，优化速度–2019.10.16：文章列表加上评论数显示–2019.10.13：改版评论–2019.09.25：图片、资源接入CDN免费jsDelivr、文章加入置顶–2019.09.19：开源博客代码–2019.09.19：修改布局，拉伸布局，更宽的展示–2019.09.18：修改友链ui为一行三个，并适配移动端，暗黑模式文章增加评论链接，增加留言链接–2019.09.14：增加精简next主题–2019.09.14：利用中秋节放假，重做了首页的热门推荐、加个widget最新评论框、归档页加入文章贡献概览面板 本站推荐索引 博客主题相关 github Issue 作为博客微型数据库的应用 github page网站cdn优化加速 博客源码分享 博客换肤的一种实现方式思路 博客中gitalk最新评论的获取 博客图片上传picgo工具github图传使用 安装、部分配置icarus主题中文版 技术知识点 Java并发知识点 法律法规 法律法规数据库 中华人民共和国国旗法 中华人民共和国宪法 中华人民共和国消费者权益保护法 中华人民共和国刑事诉讼法 中华人民共和国婚姻法 中华人名共和国网络安全法 中华人民共和国劳动法 其他 网易云音乐歌单分享 计划2020计划 2019.12.31 2020-GOALS 跑两三场马拉松 2019计划 2018.12.31/21:59:00-&gt;更新于2019.12.31 2019-GOALS 购买的专业书籍至少看完一遍（并发、重构、设计模式…）-&gt; 95%额外： 追了很多剧总结： 有优点有缺点，没坚持下来的还是太多，追了太多剧。以后多学习，多思考！ 时间轴记录","link":"/about/index.html"}]}